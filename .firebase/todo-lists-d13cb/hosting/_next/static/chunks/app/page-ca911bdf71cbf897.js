(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2937:function(e,t,a){Promise.resolve().then(a.bind(a,8752))},8752:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(3827),n=a(4090),l=a(828),o=a(5493);function r(e){let{updateTasks:t}=e,[a,r]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(null),x=(0,l.I0)(),p=(0,l.v9)(e=>e.loading.loading);async function f(e){e.preventDefault(),x((0,o.K4)(!0));try{let e=await fetch("https://todo-lists-api.adaptable.app/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,description:i})});if(e.ok&&(t(),r(""),d("")),400===e.status){let t=await e.json();u(t.errors)}}catch(e){console.log(e)}finally{x((0,o.K4)(!1))}}return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-neutral-700 px-4 py-6 grid grid-cols-3 gap-2 w-1/2",children:[(0,s.jsx)("label",{htmlFor:"name",className:"text-white",children:"Name"}),(0,s.jsx)("label",{htmlFor:"description",className:"text-white",children:"Description"}),(0,s.jsxs)("div",{className:"ml-auto row-span-2 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-white text-lg self-center ",children:p?(0,s.jsx)("div",{className:"flex-col gap-4 w-full flex",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 text-orange-400 text-4xl animate-spin border-white flex items-center border-t-orange-400 rounded-full"})}):""}),(0,s.jsx)("button",{onClick:f,className:" bg-orange-400 text-white rounded-3xl w-max h-max px-4 py-2 self-center font-semibold text-sm hover:bg-white hover:text-orange-400 active:bg-gray-200 transition-all transform outline-none focus:outline-orange-400 focus:outline-offset-2",children:"Add Todo"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{type:"text",id:"name",className:"rounded-lg h-8 border border-orange-400 px-1 outline-orange-400",onChange:e=>r(e.target.value),value:a}),c&&null!==c.name?(0,s.jsx)("div",{className:"text-gray-200 text-sm",children:c.name}):""]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{type:"text",id:"description",className:"rounded-lg h-8 border border-orange-400 px-1 outline-orange-400",onChange:e=>d(e.target.value),value:i}),c&&null!==c.description?(0,s.jsx)("div",{className:"text-gray-200 text-sm",children:c.description}):""]})]})})}var i=function(){for(var e,t,a=0,s="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=function e(t){var a,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(a=0;a<l;a++)t[a]&&(s=e(t[a]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s};function d(e){let{tasks:t,updateTasks:a}=e;async function n(e,t){e.preventDefault();try{(await fetch("https://todo-lists-api.adaptable.app/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"Completed",id:t})})).ok&&a()}catch(e){console.log(e)}}async function l(e,t){e.preventDefault();try{(await fetch("https://todo-lists-api.adaptable.app/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).ok&&a()}catch(e){console.log(e)}}return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"grow text-white w-1/2 flex flex-col gap-1",children:t.map(e=>(0,s.jsxs)("div",{className:"bg-neutral-700 w-full flex px-4 py-3 gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col mr-auto",children:[(0,s.jsx)("div",{className:"text-orange-400 text-3xl font-semibold",children:(0,s.jsx)("span",{className:i({"line-through":"Completed"===e.status,"text-neutral-500":"Completed"===e.status}),children:e.name})}),(0,s.jsx)("div",{className:i("",{"line-through":"Completed"===e.status,"text-neutral-500":"Completed"===e.status}),children:e.description})]}),"InComplete"===e.status?(0,s.jsx)("button",{onClick:t=>n(t,e._id),className:"row-span-2 self-center bg-white text-green-500 border border-green-500 w-max h-max px-3 py-1 rounded-2xl text-sm font-semibold hover:bg-green-500 hover:text-white active:bg-green-600 transition-all transform outline-none focus:outline-green-500 focus:outline-offset-2",children:"Complete"}):"",(0,s.jsx)("button",{onClick:t=>l(t,e._id),className:"row-span-2 self-center bg-white text-red-500 border border-red-500 w-max h-max px-3 py-1 rounded-2xl text-sm font-semibold hover:bg-red-500 hover:text-white active:bg-red-600 transition-all transform outline-none focus:outline-red-500 focus:outline-offset-2",children:"Delete"})]},e._id))})})}var c=a(7913);function u(){let e=(0,l.I0)(),t=(0,l.v9)(e=>e.tasks.tasks);async function a(){try{e((0,o.K4)(!0));let t=await fetch("https://todo-lists-api.adaptable.app/tasks");if(t.ok){let a=await t.json();e((0,c.rh)(a.tasks))}}catch(e){console.log(e)}finally{e((0,o.K4)(!1))}}return(0,n.useEffect)(()=>{a()},[]),(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-24 bg-neutral-800 gap-6",children:[(0,s.jsx)("div",{className:"text-white font-semibold text-3xl",children:"My Todos"}),(0,s.jsx)(r,{updateTasks:a}),t.length>0?(0,s.jsx)(d,{tasks:t,updateTasks:a}):(0,s.jsx)("div",{className:"text-white text-lg",children:"No todos to display"})]})}},5493:function(e,t,a){"use strict";a.d(t,{K4:function(){return n}});let s=(0,a(5972).oM)({name:"loading",initialState:{loading:!0},reducers:{setLoading(e,t){e.loading=t.payload}}}),{setLoading:n}=s.actions;t.ZP=s.reducer},7913:function(e,t,a){"use strict";a.d(t,{rh:function(){return n}});let s=(0,a(5972).oM)({name:"tasks",initialState:{tasks:[]},reducers:{setTasks(e,t){e.tasks=t.payload}}}),{setTasks:n}=s.actions;t.ZP=s.reducer}},function(e){e.O(0,[181,971,69,744],function(){return e(e.s=2937)}),_N_E=e.O()}]);